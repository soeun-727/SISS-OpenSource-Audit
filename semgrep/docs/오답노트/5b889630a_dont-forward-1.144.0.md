# [Semgrep] 커밋 분석 - [5b889630a]
25.5기 박소은

**주제:** [토큰 유출 관련 보안 패치]

---

## 🧩 개요

- **커밋 해시:** [5b889630a]
- **파일 변경:** [ a/changelog.d/gh-11016.fixed b/changelog.d/gh-11016.fixed]
- **관련 PR/릴리즈:** [semgrep/semgrep-proprietary#4393 내부 티켓: SAF-2051]

---

## 🔍 변경 요약

Semgrep CLI가 외부 URL에서 룰을 가져올 때 SEMGREP_APP_TOKEN을 Authorization 헤더로 전송하는 문제를 수정

---

## 🔐 보안 관점 분석

| 항목             | 이전 버전                                      | 변경 버전                                        | 보안적 의미                                                       |
| ---------------- | ---------------------------------------------- | ------------------------------------------------ | ----------------------------------------------------------------- |
| 토큰 처리 방식   | 외부 URL에도 `SEMGREP_APP_TOKEN` 포함하여 전송 | semgrep.dev 이외의 주소로는 토큰을 전송하지 않음 | **자격 증명 유출 방지. 외부 서버에 토큰 탈취 가능성을 제거함.**   |
| 룰 다운로드 경로 | 사용자 입력에 따라 임의의 외부 서버로 요청     | 외부 요청은 인증 없이 수행                       | **공격자가 만든 악성 URL로 토큰이 유출될 수 있는 공격 벡터 차단** |
| 인증 헤더 구성   | 무조건 Authorization: Bearer TOKEN             | 도메인 조건부 적용                               | **잘못된 인증 전송 로직 보완 — 보안 패치 명확**                   |

---

## 🧾 검증 및 확인

- [x] 관련 PR/릴리즈 로그 확인
- [x] 보안 패치(CVE) 여부 확인
- [] 테스트/빌드 정상 동작 확인

---

## 💬 결론

- [x] 업데이트 성격: 보안 강화
- [ ] CI/CD 신뢰성 영향: 없음
- [x] 추가 확인 필요사항: 향후 릴리즈 노트에서 CVE ID 할당 여부 모니터링 필요

---

## 📚 참고

- PR 링크: semgrep/semgrep-proprietary#4393
- 릴리즈 노트: changelog.d/gh-11016.fixed
- 관련 문헌/참고자료:Semgrep CLI config/rule fetch flow documentation, 내부 이슈 SAF-2051
